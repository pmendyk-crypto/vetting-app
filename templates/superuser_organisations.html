<!-- Superuser Settings: Organisations Management -->
<!-- File: templates/superuser_organisations.html -->

{% extends "base.html" %}

{% block title %}Organisations{% endblock %}

{% block content %}
<div class="container">
    <h1>Manage Organisations</h1>
    
    <!-- Create Organisation Form -->
    <div class="section">
        <h2>Create New Organisation</h2>
        <form method="post" action="/superuser/organisations/create" class="form">
            <div class="form-group">
                <label for="name">Organisation Name:</label>
                <input type="text" id="name" name="name" placeholder="e.g., Hospital ABC" required>
            </div>
            
            <div class="form-group">
                <label for="slug">Slug (URL-friendly):</label>
                <input type="text" id="slug" name="slug" placeholder="e.g., hospital-abc" required 
                       pattern="[a-z0-9-]+" title="Only lowercase letters, numbers, and hyphens">
            </div>
            
            <button type="submit" class="btn btn-primary">Create Organisation</button>
        </form>
    </div>
    
    <!-- Organisations Table -->
    <div class="section">
        <h2>Existing Organisations</h2>
        
        {% if organisations %}
        <table class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Slug</th>
                    <th>Status</th>
                    <th>Created</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for org in organisations %}
                <tr>
                    <td><strong>{{ org.name }}</strong></td>
                    <td><code>{{ org.slug }}</code></td>
                    <td>
                        {% if org.is_active %}
                            <span class="badge badge-success">Active</span>
                        {% else %}
                            <span class="badge badge-danger">Inactive</span>
                        {% endif %}
                    </td>
                    <td>{{ org.created_at | display_datetime }}</td>
                    <td>
                        <a href="/superuser/organisations/{{ org.id }}/members" class="btn btn-sm btn-info">Members</a>
                        <a href="/superuser/organisations/{{ org.id }}/edit" class="btn btn-sm btn-warning">Edit</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p class="alert alert-info">No organisations yet.</p>
        {% endif %}
    </div>
</div>

<style>
.section { margin-bottom: 2rem; padding: 1.5rem; border: 1px solid #ddd; border-radius: 4px; }
.form-group { margin-bottom: 1rem; }
.form-group label { display: block; margin-bottom: 0.5rem; font-weight: 400; }
.form-group input { width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; }
.btn { padding: 0.5rem 1rem; text-decoration: none; border-radius: 4px; display: inline-block; }
.btn-primary { background-color: #007bff; color: white; }
.btn-sm { padding: 0.25rem 0.5rem; font-size: 0.875rem; }
.btn-info { background-color: #17a2b8; color: white; }
.btn-warning { background-color: #ffc107; color: black; }
.badge { padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.875rem; }
.badge-success { background-color: #28a745; color: white; }
.badge-danger { background-color: #dc3545; color: white; }
.table { width: 100%; border-collapse: collapse; }
.table th, .table td { padding: 0.75rem; text-align: left; border-bottom: 1px solid #ddd; }
.table th { background-color: #f8f9fa; font-weight: 400; }
.table tbody tr:hover { background-color: #f5f5f5; }
.alert { padding: 1rem; border-radius: 4px; }
.alert-info { background-color: #d1ecf1; color: #0c5460; }
</style>
{% endblock %}
